---
description: Comprehensive workflow validation rule for GitBook projects. Apply when validating the entire project structure, before commits, during CI/CD, or when ensuring quality standards. This rule combines all validation aspects including consistency, format, and indexing to maintain high-quality documentation.
globs: 
alwaysApply: false
---

# GitBook Markdown Validation Workflow ğŸ“‹

## Critical Rules

- **Pre-Commit Validation**: Cháº¡y táº¥t cáº£ validations trÆ°á»›c khi commit code
- **Comprehensive Check**: Kiá»ƒm tra consistency, format, vÃ  indexing cÃ¹ng lÃºc
- **Automated Detection**: Tá»± Ä‘á»™ng phÃ¡t hiá»‡n cÃ¡c váº¥n Ä‘á» vÃ  Ä‘Æ°a ra suggestions
- **Quality Gates**: KhÃ´ng cho phÃ©p commit náº¿u cÃ³ critical issues
- **Documentation Coverage**: Äáº£m báº£o 100% coverage cá»§a markdown files trong SUMMARY.md

## Validation Workflow Steps

### 1. ğŸ” **File Discovery & Analysis**
- Scan táº¥t cáº£ files `.md` trong workspace
- PhÃ¢n tÃ­ch cáº¥u trÃºc thÆ° má»¥c vÃ  naming conventions
- Detect orphaned files (khÃ´ng cÃ³ trong SUMMARY.md)

### 2. ğŸ“‹ **Consistency Validation**
- Kiá»ƒm tra heading hierarchy consistency
- Validate internal links vÃ  cross-references
- Check image paths vÃ  resource availability
- Verify UTF-8 encoding vÃ  Vietnamese character handling

### 3. ğŸ¨ **Format Validation**
- Line endings consistency (LF)
- Trailing spaces removal
- Proper indentation vÃ  spacing
- Markdown syntax correctness

### 4. ğŸ“š **SUMMARY.md Indexing**
- Verify táº¥t cáº£ files cÃ³ entry trong SUMMARY.md
- Check hierarchical structure alignment
- Validate link formats vÃ  accessibility
- Ensure proper section categorization

### 5. ğŸ“Š **Quality Report**
- Generate comprehensive validation report
- Provide actionable recommendations
- Priority-based issue classification
- Auto-fix suggestions where possible

## Implementation Commands

```bash
# Validation workflow script
#!/bin/bash
echo "ğŸš€ Starting GitBook Validation Workflow..."

# Step 1: File discovery
echo "ğŸ“ Discovering markdown files..."
find . -name "*.md" -type f | grep -v node_modules > /tmp/md_files.txt

# Step 2: Check SUMMARY.md coverage
echo "ğŸ“‹ Checking SUMMARY.md coverage..."
# Implementation logic here

# Step 3: Format validation
echo "ğŸ¨ Validating formats..."
# Implementation logic here

# Step 4: Link validation
echo "ğŸ”— Validating links..."
# Implementation logic here

echo "âœ… Validation complete!"
```

## Examples

<example>
  Valid project structure:
  ```
  âœ… All .md files indexed in SUMMARY.md
  âœ… Proper heading hierarchy maintained
  âœ… All internal links working
  âœ… Consistent formatting applied
  âœ… UTF-8 encoding verified
  âœ… No orphaned files detected
  ```
</example>

<example type="invalid">
  Invalid project state:
  ```
  âŒ 3 files missing from SUMMARY.md
  âŒ 2 broken internal links found
  âŒ Inconsistent heading hierarchy in 5 files
  âŒ 12 files with trailing spaces
  âŒ 1 orphaned file detected
  ```
</example>

## Validation Checklist

### ğŸ” **File Structure**
- [ ] All directories follow naming conventions
- [ ] No orphaned markdown files
- [ ] Proper file organization by content type

### ğŸ“‹ **Content Consistency**
- [ ] Heading hierarchy maintained (h1 â†’ h2 â†’ h3)
- [ ] Vietnamese content properly formatted
- [ ] Cross-references accurate and up-to-date

### ğŸ¨ **Format Standards**
- [ ] UTF-8 encoding throughout
- [ ] LF line endings consistent
- [ ] No trailing spaces
- [ ] Proper indentation levels

### ğŸ“š **SUMMARY.md Integration**
- [ ] All files properly indexed
- [ ] Hierarchical structure matches content
- [ ] Links functional and accessible
- [ ] Section categorization logical

### ğŸ”— **Link Validation**
- [ ] Internal links working
- [ ] Image paths accessible
- [ ] External links valid (if any)
- [ ] Anchor links properly formatted

## Quality Gates

- **Critical**: Must be fixed before commit
  - Broken internal links
  - Missing SUMMARY.md entries
  - Invalid markdown syntax

- **Warning**: Should be addressed
  - Heading hierarchy inconsistencies
  - Trailing spaces
  - Improper Vietnamese formatting

- **Info**: Nice to have
  - Optimization suggestions
  - Style improvements
  - Performance enhancements
